<odoo>
    <data>

            <record id="view_ebiz_download_payments_form_v2" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">ebiz.download.payments</field>
            <field name="arch" type="xml" >
                <form string="Download Payments" create="false">
                    <h1>Download Received Payments</h1>
                    <group>
                        <group>
                            <field name="from_date" context="{'onchange': True}"/>
                            <field name="to_date" context="{'onchange': True}"/>

                        </group>
                        <group>
                        </group>
                        <!-- <field name="compute_counter" invisible="1"/> -->
                    </group>
                <br/>
                    <button string="Download" class="oe_highlight" type="object" name="fetch_again"/>
                    <br/>                <br/>

                    <notebook>
                        <page string="List">
                            <group>

<!--                        <group><button string="Mark As Applied" class="oe_highlight" type="object" name="mark_as_applied"/></group>-->
                    </group>
                            <field name="payment_lines" readonly='0' widget="download_invoice_credit_notes"  attrs="{'invisible': [ ('payment_lines','=',[])]}">
                        <tree string="Payment Lines" editable="bottom"  edit="1" create="false" delete="false" limit="15">
                            <field name="type_id" readonly="1"/>
                            <field name="invoice_number" readonly="1"/>
                            <field name="partner_id" readonly="1"/>
                            <field name="customer_id" readonly="1"/>
                            <field name="date_paid" readonly="1"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="invoice_amount" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>
                            <field name="paid_amount" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>
                            <field name="amount_due" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>
                            <field name="payment_method" readonly="1"/>
                            <field name="auth_code" readonly="1" />
                            <field name="ref_num" readonly="1" />
<!--                            <field name="invoice_date" readonly="1" />-->
                            <field name="source" readonly="1" />
                            <field name="invoice_number_op" invisible="1"/>
                            <field name="paid_amount_op" invisible="1"/>
                            <field name="is_email_payment" invisible="1"/>
                            <field name="payment_internal_id" invisible="1"/>
                        </tree>
                    </field>
                      <group attrs="{'invisible': [ ('payment_lines','!=',[])]}">
                            <div class="o_content" >
                                <div class="o_view_nocontent">
                                    <div class="o_nocontent_help">
                                        <p class="o_view_nocontent_smiling_face">
                                            No record found.
                                        </p>
                                    </div>
                                </div>
                            </div>
                      </group>
                        </page>

                        <page name="download_invoice_credit_memos_log" string="Log">
                            <field name="transaction_log_lines" widget="download_invoice_credit_notes"  attrs="{'invisible': [ ('transaction_log_lines','=',[])]}">
                                <tree string="Logs"  create="false" delete="false" limit="15">
                                    <field name="type_id" readonly="1"/>
                                    <field name="invoice_number" readonly="1"/>
                                    <field name="partner_id" readonly="1"/>
                                    <field name="customer_id" readonly="1"/>
                                    <field name="date_paid" readonly="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="invoice_amount" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>
                                    <field name="paid_amount" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>
<!--                                    <field name="amount_due" readonly="1" options="{'currency_field': 'currency_id'}" widget="monetary"/>-->
                                    <field name="payment_method" readonly="1"/>
                                    <field name="auth_code" readonly="1" />
                                    <field name="ref_num" readonly="1" />
                                    <field name="last_sync_date" readonly="1" />
                                </tree>
                            </field>
                            <group attrs="{'invisible': [ ('transaction_log_lines','!=',[])]}">
                                    <div class="o_content" >
                                        <div class="o_view_nocontent">
                                            <div class="o_nocontent_help">
                                                <p class="o_view_nocontent_smiling_face">
                                                     No logs found.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </group>

                        </page>
                    </notebook>

                </form>
            </field>
        </record>


        <record id="action_ebiz_download_payments_form_updated" model="ir.actions.act_window">
            <field name="name">Download Received Payments</field>
            <field name="res_model">ebiz.download.payments</field>
             <!-- <field name="res_id" ref="my_record_01"/> -->
             <field name="target">inline</field>
            <field name='view_mode'>form,tree</field>
        </record>


        <menuitem id="menu_ebiz_download_payments"
        name="Download Received Payments"
        parent="menu_download_ebiz"
        sequence="5"
        action="action_ebiz_download_payments_form_updated"/>
       
        <record id="wizard_ebiz_download_message_view" model="ir.ui.view">
            <field name="name">download.pyament.message</field>
            <field name="model">download.pyament.message</field>
            <field name="arch" type="xml">
                <form string="Message">
                    <div>
                            <field name="succeeded" nolabel="1" readonly="1"/> out <field name="total" nolabel="1" readonly="1"/> payment(s) have been successfully imported into Odoo
                        </div>
                        <br/>
                    <field name="lines_ids" readonly="1"  color="green:record_message=='Success">
                        <tree>
                            <field name="customer_name"/>
                            <field name="customer_id"/>
                            <field name="invoice_no"/>
                            <field name="status"/>
                        </tree>
                    </field>
                    <footer>
                        <button string="Ok" class="oe_highlight" special="cancel" style="width:10%"/>
                    </footer>
                </form>
            </field>
        </record>
        <record id="wizard_ebiz_download_message_action" model="ir.actions.act_window">
            <field name="name">Result</field>
            <field name="res_model">download.pyament.message</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
    </data>
</odoo>