<odoo>

    <template id="sale_order_transaction_history" name="Sales Order: Transaction History" inherit_id="sale.sale_order_portal_content">
        <xpath expr="//section[@id='terms']" position="after">
            <section class="mt-5">
                <h3 class="">Transaction History</h3>
                <form class="form-inline mb-3 o_portal_transaction_history">
                    <div class="input-group input-group-sm w-100">
                        <input type="text" class="form-control form-control-sm" placeholder="Search by reference number" t-att-value='search' name="search"/>
                        <span class="input-group-append">
                            <button class="btn btn-primary search-submit" type="button">
                                <span class="fa fa-search"/>
                            </button>
                        </span>
                    </div>
                </form>
                <table class="table table-sm" id="">
                    <thead class="bg-100">
                        <tr>
                            <th class="text-left">Transaction Date</th>
                            <th class="text-right">Amount</th>
                            <th class="text-left">Payment Method</th>
                            <th class="text-right">Reference Number</th>
                            <th class="text-right">Type</th>
                        </tr>
                    </thead>
                    <tbody class="sale_tbody">
                        <t t-foreach="transactions" t-as="transaction">
                            <tr>
                                <td class="text-left" id="transaction_date"><span t-field="transaction.date_time"/></td>
                                <td class="text-right" id="transaction_amount"><span t-options='{"widget": "monetary"}'
                                                                                     t-field="transaction.amount"/></td>
                                <td class="text-left" id="transaction_card_no"><span t-if="transaction.image" t-field="transaction.image" t-options='{"widget": "image", "class": "o_image_transaction"}'/> <span t-field="transaction.card_no_ecom"/></td>
                                <td class="text-right" id="transaction_ref_no"><span t-field="transaction.ref_no"/></td>
                                <td class="text-right" id="transaction_type"><span t-field="transaction.transaction_type"/></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </section>
        </xpath>
    </template>

<!--    <template id="portal_my_home_menu_payment" name="Portal layout : payments menu entries" inherit_id="portal.portal_breadcrumbs" priority="20">-->
<!--        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">-->
<!--            <li t-if="page_name == 'payment'" t-attf-class="breadcrumb-item #{'active ' if not payment else ''}">-->
<!--                <a t-if="payment" t-attf-href="/my/transactions?{{ keep_query() }}">Payments</a>-->
<!--                <t t-else="">Payments</t>-->
<!--            </li>-->
<!--&lt;!&ndash;            <li t-if="payment" class="breadcrumb-item active">&ndash;&gt;-->
<!--&lt;!&ndash;                <span t-field="sale_order.type_name"/>&ndash;&gt;-->
<!--&lt;!&ndash;                <t t-esc="sale_order.name"/>&ndash;&gt;-->
<!--&lt;!&ndash;            </li>&ndash;&gt;-->
<!--        </xpath>-->
<!--    </template>-->

<!--    <template id="portal_my_home_transaction" name="Portal My Home : transaction entries" inherit_id="portal.portal_my_home" priority="31">-->
<!--        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">-->
<!--            <t t-if="transaction_count" t-call="portal.portal_docs_entry">-->
<!--                <t t-set="title">Payment Transactions</t>-->
<!--                <t t-set="url" t-value="'/my/transactions'"/>-->
<!--                <t t-set="count" t-value="transaction_count"/>-->
<!--            </t>-->
<!--        </xpath>-->
<!--    </template>-->


<!--    <template id="portal_my_payments" name="My Payments">-->
<!--        <t t-call="portal.portal_layout">-->
<!--            <t t-set="breadcrumbs_searchbar" t-value="True"/>-->

<!--            <t t-call="portal.portal_searchbar">-->
<!--                <t t-set="title">Payments</t>-->
<!--            </t>-->
<!--            <t t-if="not payments">-->
<!--                <p>There are currently no payments for your account.</p>-->
<!--            </t>-->
<!--            <t t-if="payments" t-call="portal.portal_table">-->
<!--                <thead>-->
<!--                    <tr class="active">-->
<!--                        <th>Payment #</th>-->
<!--                        <th class="text-right">Source</th>-->
<!--                        <th class="text-right">Payment Date</th>-->
<!--                        <th class="text-center"/>-->
<!--                        <th class="text-right">Total</th>-->
<!--                        <th class="text-right">Status</th>-->
<!--                    </tr>-->
<!--                </thead>-->
<!--                <t t-foreach="payments" t-as="payment">-->
<!--                    <tr>-->
<!--                        <td><a t-att-href="payment.get_portal_url()"><t t-esc="payment.ref_no"/></a></td>-->
<!--                        <td class="text-right"><span t-field="payment.invoice_id"/></td>-->
<!--                        <td class="text-right"><span t-field="payment.date_time"/></td>-->
<!--                        <td class="text-center">-->
<!--                            <span t-if="payment.transaction_status == 'Approved'" class="badge badge-pill badge-secondary"><i class="fa fa-check"/> Approved</span>-->
<!--                            <span t-if="payment.transaction_status == 'Error' " class="badge badge-pill badge-secondary"><i class="fa fa-fw fa-remove"/> Error</span>-->
<!--                        </td>-->
<!--                        <td class="text-right">-->
<!--                            <span t-field="payment.amount"/>-->
<!--                        </td>-->
<!--                        <td class="text-right">-->
<!--                            <span t-field="payment.status"/>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                </t>-->
<!--            </t>-->
<!--        </t>-->
<!--    </template>-->


</odoo>
