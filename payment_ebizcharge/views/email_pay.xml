<odoo>
    <data>
        <record id="ebiz_invoice_email_pay_form_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">account.move</field>
            <field name="arch" type="xml" >
                <tree create="false" delete="false" >
                    <field name="name" readonly="1"/>
                    <field name="partner_id" readonly="1" string="Customer"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="currency_id" readonly="1" invisible="1"/>
                    <field name="amount_total" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1" string="Invoice Total"/>
                    <field name="amount_residual" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1" string="Amount Due"/>
                    <field name="invoice_date_due" readonly="1"/>
                    <field name="email" readonly="1"/>
                </tree>

            </field>
        </record>
        <record id="ebiz_invoice_email_pay_pending_form_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">sync.request.payments.bulk.pending</field>
            <field name="arch" type="xml" >
                <tree create="false" edit="false" delete="false" limit="15">
                    <field name="currency_id" readonly="1" invisible="1"/>
                    <field name="name" readonly="1"/>
                    <field name="customer_name" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="tax" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="amount" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="amount_due" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="invoice_date" readonly="1"/>
                    <field name="email_id" readonly="1"/>
                    <field name="date_and_time_sent" readonly="1"/>
                    <field name="over_due_status" readonly="1"/>
                </tree>

            </field>
        </record>
        <record id="ebiz_invoice_email_pay_search_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">account.move</field>
            <field name="arch" type="xml" >
                <search string="Payment Lines">
                    <field name="name" readonly="1"/>
                    <field name="partner_id" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="email" readonly="1"/>
                    <!-- <filter string="One Week" name="one_week" domain="[('date_filter','=','1-week')]" help = "One Week"/>
                    <filter string="Two Weeks" name="two_week" domain="[('date_filter','=','2-week')]" help = "Two Weeks"/>
                    <filter string="One Month" name="one_month" domain="[('date_filter','=','1-month')]" help = "One Month"/>
                    <filter string="Two Months" name="two_month" domain="[('date_filter','=','2-month')]" help = "Two Months"/>
                    <filter string="Six Month" name="six_month" domain="[('date_filter','=','6-month')]" help = "Six Month"/>
                    <filter string="One Year" name="one_year" domain="[('date_filter','=','1-year')]" help = "One Year"/> -->
                </search>
            </field>
        </record>
        <record id="ebiz_invoice_email_pay_received_form_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">sync.request.payments.bulk.received</field>
            <field name="arch" type="xml" >
                <tree create="false" edit="false" delete="false">
                    <field name="currency_id" readonly="1" invisible="1"/>
                    <field name="payment_request_date_time" readonly="1"/>
                    <field name="name" readonly="1"/>
                    <field name="customer_name" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="amount" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="paid_amount" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="payment_method" readonly="1"/>
                    <field name="ref_num" readonly="1"/>
                </tree>

            </field>
        </record>
        <record id="ebiz_invoice_email_pay_received_search_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">sync.request.payments.bulk.received</field>
            <field name="arch" type="xml" >
                <search string="Payment Lines">
                    <field name="name" readonly="1"/>
                    <field name="customer_name" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="email_id" readonly="1"/>

                    <filter string="Two Months" name="lasttwomonths"
                            domain="[
                            ('payment_request_date_time','&gt;=',(context_today()-relativedelta(months=2)).strftime('%Y-%m-%d 00:00:00')),
                            ('payment_request_date_time','&lt;=',(context_today().strftime('%Y-%m-%d 23:59:59')))
                            ]" />
                </search>
            </field>
        </record>
        <record id="ebiz_invoice_email_pay_pending_form_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">sync.request.payments.bulk.pending</field>
            <field name="arch" type="xml" >
               <tree string="Pending Payments" create="false" edit="false" delete="false">
                    <field name="currency_id" readonly="1" invisible="1"/>
                    <field name="name" readonly="1"/>
                    <field name="customer_name" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="tax" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="amount" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="amount_due" options="{'currency_field': 'currency_id'}" widget="monetary" readonly="1"/>
                    <field name="invoice_date" readonly="1"/>
                    <field name="email_id" readonly="1"/>
                    <field name="date_and_time_sent" readonly="1"/>
                    <field name="over_due_status" readonly="1"/>

                </tree>

            </field>
        </record>
        <record id="ebiz_invoice_email_pay_pending_search_view" model="ir.ui.view">
            <field name="name">download.ebiz.payments</field>
            <field name="model">sync.request.payments.bulk.pending</field>
            <field name="arch" type="xml" >
                <search string="Payment Lines">
                    <field name="name" readonly="1"/>
                    <field name="customer_name" readonly="1"/>
                    <field name="customer_id" readonly="1"/>
                    <field name="email_id" readonly="1"/>
                    <filter string="Two Months" name="lasttwomonths"
                            domain="[
                            ('date_and_time_sent','&gt;=',(context_today()-relativedelta(months=2)).strftime('%Y-%m-%d 00:00:00')),
                            ('date_and_time_sent','&lt;=',(context_today().strftime('%Y-%m-%d 23:59:59')))
                            ]" />
                </search>
            </field>
        </record>
        <record id="action_ebiz_invoice_email_pay" model="ir.actions.act_window">
            <field name="name">Email Pay Bulk</field>
            <field name="res_model">account.move</field>
             <field name="domain">[('ebiz_invoice_status', '=', False),('type', '=', 'out_invoice'), ('payment_state', '!=', 'paid'),('state', '=', 'posted'), ('amount_residual', '>', 0)]</field>
            <field name='view_mode'>tree</field>
            <field name="context">{'ebiz_email_pay_bulk_action':1}</field>
            <field name='view_id' ref="ebiz_invoice_email_pay_form_view"/>
            <field name='search_view_id' ref="ebiz_invoice_email_pay_search_view"/>
        </record>
        <record id="action_ebiz_received_email_pay" model="ir.actions.act_window">
            <field name="name">Received Payments</field>
            <field name="res_model">sync.request.payments.bulk.received</field>
             <!-- <field name="domain">[('payment_state', '!=', 'paid'),('state', '=', 'posted'), ('amount_residual', '>', 0)]</field> -->
            <field name='view_mode'>tree</field>
            <field name="context">{'search_default_lasttwomonths':1}</field>
            <field name='view_id' ref="ebiz_invoice_email_pay_received_form_view"/>
            <field name='search_view_id' ref="ebiz_invoice_email_pay_received_search_view"/>
        </record>

        <record id="action_ebiz_pending_email_pay" model="ir.actions.act_window">
            <field name="name">Pending Payments</field>
            <field name="res_model">sync.request.payments.bulk.pending</field>
             <!-- <field name="domain">[('payment_state', '!=', 'paid'),('state', '=', 'posted'), ('amount_residual', '>', 0)]</field> -->
            <field name='view_mode'>tree</field>
            <field name="context">{'search_default_lasttwomonths':1}</field>
            <field name='view_id' ref="ebiz_invoice_email_pay_pending_form_view"/>
            <field name='search_view_id' ref="ebiz_invoice_email_pay_pending_search_view"/>
        </record>
        <record id="model_action_batch_email_invoice" model="ir.actions.server">
            <field name="name">Send Email</field>
            <field name="model_id" ref="payment_ebizcharge.model_account_move"/>
            <field name="binding_model_id" ref="payment_ebizcharge.model_account_move"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">action = records.ebiz_send_batch_email()</field>
        </record>

        <record id="model_action_batch_email_pending_resend" model="ir.actions.server">
            <field name="name">Resend Email</field>
            <field name="model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_pending"/>
            <field name="binding_model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_pending"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">action = records.resend_email()</field>
        </record>

        <record id="model_action_batch_email_pending_delete" model="ir.actions.server">
            <field name="name">Remove from List</field>
            <field name="model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_pending"/>
            <field name="binding_model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_pending"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">action = records.delete_invoice()</field>
        </record>
        <record id="model_action_batch_email_received_apply" model="ir.actions.server">
            <field name="name">Apply</field>
            <field name="model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_received"/>
            <field name="binding_model_id" ref="payment_ebizcharge.model_sync_request_payments_bulk_received"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">action = records.mark_applied()</field>
        </record>



<!--        <menuitem id="request_payment_via_email_invoice"-->
<!--            name="Invoices"-->
<!--            parent="request_payment_view_email"-->
<!--            action="action_ebiz_invoice_email_pay"-->
<!--            sequence="3"/>-->

<!--        <menuitem id="request_payment_via_email_pending"-->
<!--            name="Pending"-->
<!--            parent="request_payment_view_email"-->
<!--            action="action_ebiz_pending_email_pay"-->
<!--            sequence="3"/>-->

<!--        <menuitem id="request_payment_via_email_received"-->
<!--            name="Received"-->
<!--            parent="request_payment_view_email"-->
<!--            action="action_ebiz_received_email_pay"-->
<!--            sequence="3"/>-->
    </data>
</odoo>